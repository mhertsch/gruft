<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <title>gruft library 0.2.0</title>
        
        <meta name="description" content="The gruft library is a fast implementation of several cryptographic hash functions in pure Javascript: MD5, SHA-1, SHA-256, and Tiger/192. All major browsers supported.">
        <meta name="author" content="Nikola Klaric">
        
        <link rel="stylesheet" href="gh-pages-styles/reset.css">
        <link rel="stylesheet" href="gh-pages-styles/default.css">
    </head>
    
    <body>
        <div id="wrapper-top">
            <div id="header">
                <div id="masthead">
                    gruft<span id="head-version">0.2.0</span><span id="menu"><a href="#about">About</a> | <a href="#demo">Demo</a> | <a href="#usage">Usage</a> | <a href="#download">Download</a></span>
                </div>
            </div>
            
            <div id="body">
                <div id="content">
                    <a name="about">About</a>
                    <p>
                        The gruft library is a fast implementation of several cryptographic hash functions in pure Javascript:
                        MD5, SHA-1, SHA-256, and Tiger/192. gruft can output digests in various formats:
                        hex strings, Base64-encoded (also as a <a href="http://en.wikipedia.org/wiki/Base_64#URL_applications">URL-safe variant</a>), 
                        or as byte-sequences (i.e. Javascript Arrays).
                    </p>
                    <p>
                        Unlike many other implementations, any hash function in the gruft library will always perform
                        a self-test against known test-vectors upon instantiation.
                    </p>
                    <br>
                    <p>
                        <strong>Author</strong> <a href="https://github.com/nikola">Nikola Klaric (github.com/nikola)</a>
                    </p>
                    <p>
                        <strong>Source</strong> <a href="https://github.com/nikola/gruft">https://github.com/nikola/gruft</a>
                    </p>
                    <p>
                        <strong>Latest release version</strong> 0.2.0
                    </p>
                    <p>
                        <strong>License</strong> <a href="http://opensource.org/licenses/MIT">MIT License</a>
                    </p>
                    <p>
                        Should work with any ECMA-262-compliant Javascript engine
                        (including <a href="http://nodejs.org/">Node.js</a>).
                    </p>
                    
                    <a name="demo">Demo</a>
                    <p>
                        Type or paste any text into the textarea below, and the hash functions will compute
                        automatically.
                    </p>
                    <p>
                        <textarea id="hash-input"></textarea>
                        <span id="hash-outputs">
                            <span class="hash-name">MD5</span><span class="hash-output" id="hash-output-md5"></span>
                            <span class="hash-name">SHA-1</span><span class="hash-output" id="hash-output-sha1"></span>
                            <span class="hash-name">SHA-256</span><span class="hash-output" id="hash-output-sha256"></span>
                            <span class="hash-name">Tiger/192</span><span class="hash-output" id="hash-output-tiger192"></span>
                        </span>
                    </p>
                    <p>
                        Upon loading this page you'll already see hex digests computed on the right side.
                        This is correct behavior: Any of these hash functions will produce a digest even
                        for an empty string, i.e. for an empty textarea.
                    </p>
                    
                    <a name="usage">Usage</a>
                    
                    <p>
                        Step 1. Include the gruft-common module in your page, e.g.
                    </p>
                    <blockquote>
                        &lt;script src=&quot;path/to/javascript/files/gruft-common.js&quot;&gt;&lt;/script&gt;
                    </blockquote>
                    <p>
                        Step 2. Include the hash function module(s) that you require in your page, e.g.
                    </p>
                    <blockquote>
                        &lt;script src=&quot;path/to/javascript/files/gruft-md5.js&quot;&gt;&lt;/script&gt;<br>
                        &lt;script src=&quot;path/to/javascript/files/gruft-sha256.js&quot;&gt;&lt;/script&gt;
                    </blockquote>
                    <p>
                        Step 3a. In your Javascript code, instantiate the hash functions that you intend to use, e.g.
                    </p>
                    <blockquote>
                        var md5 = new gruft.MD5();<br>
                        var sha256 = new gruft.SHA256();
                    </blockquote>
                    <p>
                        Step 3b. Call the digest()-function on the instance with your input string, e.g.
                    </p>
                    <blockquote>
                        md5.digest(&quot;The quick brown fox jumps over the lazy dog&quot;)
                    </blockquote>
                    <p>
                        That is all.
                    </p>
                    <p>
                        Upon instantiation (as shown in 3a), the respective hash function will perform
                        a self-test with about 12 different variations of discrete test-vectors.
                        If this self-test fails, the hash function will raise an error telling you
                        which exact test-vector failed. Subsequent instantiations of the same hash function
                        on your page will raise a fatal error to prevent further usage of the respective 
                        module.
                    </p>
                    <p>
                        The digest()-function expects at least one argument. Calling
                        the function without an argument is not the same as passing an empty string.
                        You can also pass additional options to control the output format of the hash
                        function:
                    </p>
                    <dl>
                        <dt>message</dt>
                        <dd>
                            The input string to digest. You can pass the input string as the first argument 
                            (and additional options as the second), or pack the input string into the options 
                            and pass them as a single argument.
                        </dd>
                        <dt>format</dt>
                        <dd>
                            The hash format. 
                            Available options are: &quot;hex&quot; (the default), &quot;base64&quot; (Base64-encoded), 
                            &quot;base64_safe&quot; (a URL-safe variant), &quot;byteseq&quot; (a Javascript Array).
                        </dd>
                        <dt>order</dt>
                        <dd>
                            The byte-order of the hash. The default order is, respectively: 
                            little-endian (for MD5, Tiger/192), big-endian (for SHA-1, SHA-256).
                            You can choose a different byte-order by passing &quot;little&quot; or &quot;big&quot;
                            in this field.
                        </dd>
                    </dl>
                    <p>Usage examples (taken from the respective self-test code):</p>
                    <blockquote>&gt; var md5 = new gruft.MD5();<br>
                        &gt; md5.digest("")<br>
                        &nbsp;&nbsp;"d41d8cd98f00b204e9800998ecf8427e"<br>
                        <br>
                        &gt; md5.digest({message:"MD5", format:"byteseq"})<br>
                        &nbsp;&nbsp;[0x7f, 0x13, 0x8a, 0x09, 0x16, 0x9b, 0x25, 0x0e, 0x9d, 0xcb, 0x37, 0x81, 0x40, 0x90, 0x73, 0x78]<br>
                        <br>
                        &gt; md5.digest({message:"ABCDEFGHIJ"})<br>
                        &nbsp;&nbsp;"e86410fa2d6e2634fd8ac5f4b3afe7f3"<br>
                        <br>
                        &gt; md5.digest({message:"ABCDEFGHIJ", format:"base64"})<br>
                        &nbsp;&nbsp;"6GQQ+i1uJjT9isX0s6/n8w=="<br>
                        <br>
                        &gt; md5.digest("ABCDEFGHIJ", {format:"base64_safe"})<br>
                        &nbsp;&nbsp;"6GQQ-i1uJjT9isX0s6_n8w"<br>
                        <br>
                        &gt; var tiger = new gruft.Tiger192();<br>
                        &gt; tiger.digest("Tiger", {order:"big"})<br>
                        &nbsp;&nbsp;"9f00f599072300dd276abb38c8eb6dec37790c116f9d2bdf"
                    </blockquote>

                    <a name="download">Download</a>
                    <p>
                        Latest revision from <a href="https://github.com/nikola/gruft">master</a>:
                    </p> 
                    <ul>
                        <li><a href="http://goo.gl/TQP7H">Download .zip</a></li>
                        <li><a href="http://goo.gl/1RNRD">Download .tar.gz</a></li>
                    </ul>                            
                </div>
            </div>
            
            <div id="pad"></div>
        </div>
        
        <div id="wrapper-bottom">
            <div id="footer">Copyright (c) 2009-2014 Nikola Klaric.</div>
        </div>  

        <script src="gh-pages-lib/jquery-1.11.1.min.js"></script>
        <script src="gh-pages-dist/0.2.0/gruft-common.js"></script>
        <script src="gh-pages-dist/0.2.0/gruft-md5.js"></script>
        <script src="gh-pages-dist/0.2.0/gruft-sha1.js"></script>
        <script src="gh-pages-dist/0.2.0/gruft-sha256.js"></script>
        <script src="gh-pages-dist/0.2.0/gruft-tiger192.js"></script>
        <script>
            $(document).ready(function (event) {
                $("#hash-input").on("keyup", function () {
                    var input = gruft.common.toUtf8($(this).val());

                    if (typeof md5 !== "undefined") {
                        $("#hash-output-md5").text(md5.digest(input));
                    }
                    if (typeof sha1 !== "undefined") {
                        $("#hash-output-sha1").text(sha1.digest(input));
                    }
                    if (typeof sha256 !== "undefined") {
                        $("#hash-output-sha256").text(sha256.digest(input));
                    }
                    if (typeof tiger192 !== "undefined") {
                        $("#hash-output-tiger192").text(tiger192.digest(input));
                    }
                });
                
                try {
                    var md5 = new gruft.MD5();
                    $("#hash-output-md5").text(md5.digest(""));
                } catch (e) {
                    $("#hash-output-md5").html(e);
                }
                
                try {
                    var sha1 = new gruft.SHA1();
                    $("#hash-output-sha1").text(sha1.digest(""));
                } catch (e) {
                    $("#hash-output-sha1").html(e);
                }
                
                try {
                    var sha256 = new gruft.SHA256();
                    $("#hash-output-sha256").text(sha256.digest(""));
                } catch (e) {
                    $("#hash-output-sha256").html(e);
                }
                
                try {
                    var tiger192 = new gruft.Tiger192();
                    $("#hash-output-tiger192").text(tiger192.digest(""));
                } catch (e) {
                    $("#hash-output-tiger192").html(e);
                }
            });
        </script>
    </body>
</html>